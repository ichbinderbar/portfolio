function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},i=t.parcelRequire6aa4;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return o[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequire6aa4=i);var a=i("8RAYl");const{slice:r,forEach:s}=[];const l=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c={create(e,t,o,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};o&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+6e4*o)),n&&(i.domain=n),document.cookie=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};const n=o,i=encodeURIComponent(t);let a=`${e}=${i}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!l.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!l.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a}(e,t,i)},read(e){const t=`${e}=`,o=document.cookie.split(";");for(let e=0;e<o.length;e++){let n=o[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var d={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return c.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:o,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=t;o&&"undefined"!=typeof document&&c.create(o,e,n,i,a)}},u={name:"querystring",lookup(e){let t,{lookupQuerystring:o}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const n=e.substring(1).split("&");for(let e=0;e<n.length;e++){const i=n[e].indexOf("=");if(i>0){n[e].substring(0,i)===o&&(t=n[e].substring(i+1))}}}return t}},p={name:"hash",lookup(e){let t,{lookupHash:o,lookupFromHashIndex:n}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const i=e.substring(1);if(o){const e=i.split("&");for(let n=0;n<e.length;n++){const i=e[n].indexOf("=");if(i>0){e[n].substring(0,i)===o&&(t=e[n].substring(i+1))}}}if(t)return t;if(!t&&n>-1){const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return t["number"==typeof n?n:0]?.replace("/","")}}}return t}};let g=null;const m=()=>{if(null!==g)return g;try{if(g="undefined"!=typeof window&&null!==window.localStorage,!g)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){g=!1}return g};var h={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&m())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:o}=t;o&&m()&&window.localStorage.setItem(o,e)}};let f=null;const y=()=>{if(null!==f)return f;try{if(f="undefined"!=typeof window&&null!==window.sessionStorage,!f)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){f=!1}return f};var w={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&y())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:o}=t;o&&y()&&window.sessionStorage.setItem(o,e)}},v={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:o,language:n}=navigator;if(e)for(let o=0;o<e.length;o++)t.push(e[o]);o&&t.push(o),n&&t.push(n)}return t.length>0?t:void 0}},S={name:"htmlTag",lookup(e){let t,{htmlTag:o}=e;const n=o||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},x={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;const o=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(o))return;return o["number"==typeof t?t:0]?.replace("/","")}},k={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const o="number"==typeof t?t+1:1,n="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[o]}};let b=!1;try{document.cookie,b=!0}catch(e){}const E=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];b||E.splice(1,1);class D{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return s.call(r.call(arguments,1),(t=>{if(t)for(const o in t)void 0===e[o]&&(e[o]=t[o])})),e}(t,this.options||{},{order:E,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(d),this.addDetector(u),this.addDetector(h),this.addDetector(w),this.addDetector(v),this.addDetector(S),this.addDetector(x),this.addDetector(k),this.addDetector(p)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach((e=>{if(this.detectors[e]){let o=this.detectors[e].lookup(this.options);o&&"string"==typeof o&&(o=[o]),o&&(t=t.concat(o))}})),t=t.filter((e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some((e=>e.test(t))));var t})).map((e=>this.options.convertDetectedLanguage(e))),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)})))}}D.type="languageDetector";var L=i("lhNRY"),I=i("gYLZf");const C=()=>{document.querySelectorAll("[data-i18n]").forEach((e=>{const t=e.getAttribute("data-i18n");e.textContent=a.default.t(t)})),document.querySelectorAll("[data-i18n-placeholder]").forEach((e=>{const t=e.getAttribute("data-i18n-placeholder");e.placeholder=a.default.t(t)}))},P=()=>{const e=document.getElementById("lang-toggle");e&&(e.textContent="es"===a.default.language?"EN":"ES")};window.toggleLanguage=()=>{const e="es"===a.default.language?"en":"es";a.default.changeLanguage(e).then((()=>{C(),P()}))};const A="",T="",U="https://juanidrovo.com/payment-confirm.html",B="https://cdn.payphonetodoesposible.com/box/v1.1/payphone-payment-box.css",F="https://cdn.payphonetodoesposible.com/box/v1.1/payphone-payment-box.js";let O=!1,$=!1;async function q(e,t){const o=document.getElementById("pp-button"),n=document.getElementById("payment-error"),i=document.getElementById("payment-initiated");if(o){o.innerHTML="",n&&(n.style.display="none"),i&&(i.style.display="none");try{await new Promise(((e,t)=>{if(O)return void e();const o=document.createElement("link");o.rel="stylesheet",o.href=B,document.head.appendChild(o);const n=document.createElement("script");n.type="module",n.src=F,n.onload=()=>{O=!0,e()},n.onerror=()=>t(new Error("Failed to load Payphone SDK")),document.head.appendChild(n)})),await function(e=5e3){return new Promise(((t,o)=>{if(void 0!==window.PPaymentButtonBox)return void t();const n=Date.now(),i=()=>{void 0!==window.PPaymentButtonBox?t():Date.now()-n>e?o(new Error("Payphone SDK timeout")):requestAnimationFrame(i)};requestAnimationFrame(i)}))}();const o=Math.round(100*e),n=`portfolio_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;sessionStorage.setItem("payphone_token",A),sessionStorage.setItem("payphone_amount",e.toString());new window.PPaymentButtonBox({token:A,clientTransactionId:n,amount:o,amountWithoutTax:o,amountWithTax:0,tax:0,currency:"USD",storeId:T,reference:(a=t,(a?a.replace(/[<>&"']/g,(e=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"}[e]))).slice(0,100):"")||"Portfolio Service Payment"),responseUrl:U,lang:document.documentElement.lang||"en"}).render("pp-button"),i&&(i.style.display="block")}catch(e){console.error("Payphone widget error:",e),n&&(n.textContent=e.message||"Error loading payment widget",n.style.display="block")}var a}}async function N(e){if(e.preventDefault(),$)return;const t=document.getElementById("payment-amount"),o=document.getElementById("payment-reference"),n=document.querySelector(".payment-form__submit"),i=document.getElementById("payment-error");if(!t)return;const a=parseFloat(t.value),r="es"===document.documentElement.lang;if(isNaN(a)||a<1||a>1e4)return void(i&&(i.textContent=r?"Por favor ingresa un monto vÃ¡lido ($1 - $10,000)":"Please enter a valid amount ($1 - $10,000)",i.style.display="block"));$=!0,n&&(n.disabled=!0,n.textContent=r?"Cargando...":"Loading...");const s=o?o.value:"";try{await q(a,s)}finally{$=!1,n&&(n.disabled=!1,n.textContent=r?"Continuar al Pago":"Continue to Payment")}}var _=function(){const e=document.getElementById("payment-form");e&&e.addEventListener("submit",N)};a.default.use(D).init({resources:{en:{translation:e(L)},es:{translation:e(I)}},fallbackLng:"en",detection:{order:["querystring","localStorage","navigator"],lookupQuerystring:"lang",lookupLocalStorage:"i18nextLng",caches:["localStorage"]}}).then((()=>{C(),P()})),_();
//# sourceMappingURL=payments.f1802502.js.map
